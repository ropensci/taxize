<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get the UK National Biodiversity Network ID from taxonomic names. — get_nbnid • taxize</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get the UK National Biodiversity Network ID from taxonomic names. — get_nbnid"><meta property="og:description" content="Get the UK National Biodiversity Network ID from taxonomic names."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">taxize</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.9.101</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/taxize.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/case_study.html">Case study - resolving Species Plantarum names</a>
    </li>
    <li>
      <a href="../articles/datasources.html">taxize data sources</a>
    </li>
    <li>
      <a href="../articles/infotable.html">Key functions in taxize</a>
    </li>
    <li>
      <a href="../articles/name_cleaning.html">Strategies for programmatic name cleaning</a>
    </li>
    <li>
      <a href="../articles/taxonomic_ranks.html">taxonomic ranks</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/ropensci/taxize/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get the UK National Biodiversity Network ID from taxonomic names.</h1>
    <small class="dont-index">Source: <a href="https://github.com/ropensci/taxize/blob/HEAD/R/get_nbnid.R" class="external-link"><code>R/get_nbnid.R</code></a></small>
    <div class="hidden name"><code>get_nbnid.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Get the UK National Biodiversity Network ID from taxonomic names.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">get_nbnid</span><span class="op">(</span></span>
<span>  <span class="va">sci_com</span>,</span>
<span>  ask <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  messages <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  rec_only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  rank <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rows <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">as.nbnid</span><span class="op">(</span><span class="va">x</span>, check <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for nbnid</span></span>
<span><span class="fu">as.nbnid</span><span class="op">(</span><span class="va">x</span>, check <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for character</span></span>
<span><span class="fu">as.nbnid</span><span class="op">(</span><span class="va">x</span>, check <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for list</span></span>
<span><span class="fu">as.nbnid</span><span class="op">(</span><span class="va">x</span>, check <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for data.frame</span></span>
<span><span class="fu">as.nbnid</span><span class="op">(</span><span class="va">x</span>, check <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for nbnid</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">get_nbnid_</span><span class="op">(</span></span>
<span>  <span class="va">sci_com</span>,</span>
<span>  messages <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  rec_only <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  rank <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  rows <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  name <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>sci_com</dt>
<dd><p>character; a vector of common or scientific names. Or, a
<code>taxon_state</code> object (see <a href="taxon-state.html">taxon-state</a>)</p></dd>


<dt>ask</dt>
<dd><p>logical; should get_nbnid be run in interactive mode?
If TRUE and more than one ID is found for the species, the user is asked for
input. If FALSE NA is returned for multiple matches.</p></dd>


<dt>messages</dt>
<dd><p>logical; If TRUE the actual taxon queried is printed on the
console.</p></dd>


<dt>rec_only</dt>
<dd><p>(logical) If <code>TRUE</code> ids of recommended names are
returned (i.e. synonyms are removed). Defaults to <code>FALSE</code>. Remember,
the id of a synonym is a taxa with 'recommended' name status.</p></dd>


<dt>rank</dt>
<dd><p>(character) If given, we attempt to limit the results to those
taxa with the matching rank.</p></dd>


<dt>rows</dt>
<dd><p>numeric; Any number from 1 to infinity. If the default NA, all
rows are considered. Note that this function still only gives back a nbnid
class object with one to many identifiers. See
<code>get_nbnid_()</code> to get back all, or a subset, of the raw
data that you are presented during the ask process.</p></dd>


<dt>name</dt>
<dd><p>Deprecated, see <code>sci_com</code></p></dd>


<dt>...</dt>
<dd><p>Further args passed on to <code>nbn_search</code></p></dd>


<dt>x</dt>
<dd><p>Input to <code>as.nbnid()</code></p></dd>


<dt>check</dt>
<dd><p>logical; Check if ID matches any existing on the DB, only
used in <code>as.nbnid()</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A vector of taxonomic identifiers as an S3 class.
If a taxon is not found an <code>NA</code> is given. If more than one identifier
is found the function asks for user input if <code>ask = TRUE</code>, otherwise
returns <code>NA</code>. If <code>ask=FALSE</code> and <code>rows</code> does not equal
<code>NA</code>, then a data.frame is given back, but not of the uid class, which
you can't pass on to other functions as you normally can.</p>


<p>See <code><a href="get_id_details.html">get_id_details</a></code> for further details including
attributes and exceptions</p>


<p>an object of class nbnid, a light wrapper around a character
string that is the taxonomic ID - includes attributes with relavant
metadata</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>https://api.nbnatlas.org/</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="classification.html">classification()</a></code></p>
<p>Other taxonomic-ids: 
<code><a href="get_boldid.html">get_boldid</a>()</code>,
<code><a href="get_eolid.html">get_eolid</a>()</code>,
<code><a href="get_gbifid.html">get_gbifid</a>()</code>,
<code><a href="get_ids.html">get_ids</a>()</code>,
<code><a href="get_iucn.html">get_iucn</a>()</code>,
<code><a href="get_natservid.html">get_natservid</a>()</code>,
<code><a href="get_pow.html">get_pow</a>()</code>,
<code><a href="get_tolid.html">get_tolid</a>()</code>,
<code><a href="get_tpsid.html">get_tpsid</a>()</code>,
<code><a href="get_tsn.html">get_tsn</a>()</code>,
<code><a href="get_uid.html">get_uid</a>()</code>,
<code><a href="get_wiki.html">get_wiki</a>()</code>,
<code><a href="get_wormsid.html">get_wormsid</a>()</code></p>
<p>Other nbn: 
<code><a href="nbn_classification.html">nbn_classification</a>()</code>,
<code><a href="nbn_search.html">nbn_search</a>()</code>,
<code><a href="nbn_synonyms.html">nbn_synonyms</a>()</code></p></div>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Scott Chamberlain,</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid</span><span class="op">(</span>sci_com<span class="op">=</span><span class="st">'Poa annua'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid</span><span class="op">(</span>sci_com<span class="op">=</span><span class="st">'Poa annua'</span>, rec_only<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid</span><span class="op">(</span>sci_com<span class="op">=</span><span class="st">'Poa annua'</span>, rank<span class="op">=</span><span class="st">'Species'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid</span><span class="op">(</span>sci_com<span class="op">=</span><span class="st">'Poa annua'</span>, rec_only<span class="op">=</span><span class="cn">TRUE</span>, rank<span class="op">=</span><span class="st">'Species'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid</span><span class="op">(</span>sci_com<span class="op">=</span><span class="st">'Pinus contorta'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The NBN service handles common names too</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid</span><span class="op">(</span>sci_com<span class="op">=</span><span class="st">'red-winged blackbird'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># specify rows to limit choices available</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid</span><span class="op">(</span><span class="st">'Poa ann'</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid</span><span class="op">(</span><span class="st">'Poa ann'</span>, rows<span class="op">=</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid</span><span class="op">(</span><span class="st">'Poa ann'</span>, rows<span class="op">=</span><span class="fl">25</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid</span><span class="op">(</span><span class="st">'Poa ann'</span>, rows<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># When not found</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid</span><span class="op">(</span>sci_com<span class="op">=</span><span class="st">"uaudnadndj"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Zootoca vivipara"</span>, <span class="st">"uaudnadndj"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Zootoca vivipara"</span>,<span class="st">"Chironomus riparius"</span>, <span class="st">"uaudnadndj"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Convert an nbnid without class information to a nbnid class</span></span></span>
<span class="r-in"><span><span class="fu">as.nbnid</span><span class="op">(</span><span class="fu">get_nbnid</span><span class="op">(</span><span class="st">"Zootoca vivipara"</span><span class="op">)</span><span class="op">)</span> <span class="co"># already a nbnid, returns the same</span></span></span>
<span class="r-in"><span><span class="fu">as.nbnid</span><span class="op">(</span><span class="fu">get_nbnid</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Zootoca vivipara"</span>,<span class="st">"Pinus contorta"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="co"># same</span></span></span>
<span class="r-in"><span><span class="fu">as.nbnid</span><span class="op">(</span><span class="st">'NHMSYS0001706186'</span><span class="op">)</span> <span class="co"># character</span></span></span>
<span class="r-in"><span><span class="co"># character vector, length &gt; 1</span></span></span>
<span class="r-in"><span><span class="fu">as.nbnid</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NHMSYS0001706186"</span>,<span class="st">"NHMSYS0000494848"</span>,<span class="st">"NBNSYS0000010867"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># list</span></span></span>
<span class="r-in"><span><span class="fu">as.nbnid</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"NHMSYS0001706186"</span>,<span class="st">"NHMSYS0000494848"</span>,<span class="st">"NBNSYS0000010867"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">## dont check, much faster</span></span></span>
<span class="r-in"><span><span class="fu">as.nbnid</span><span class="op">(</span><span class="st">'NHMSYS0001706186'</span>, check<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">as.nbnid</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"NHMSYS0001706186"</span>,<span class="st">"NHMSYS0000494848"</span>,<span class="st">"NBNSYS0000010867"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  check<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">(</span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">as.nbnid</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NHMSYS0001706186"</span>,<span class="st">"NHMSYS0000494848"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"NBNSYS0000010867"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">as.nbnid</span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span> <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Get all data back</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid_</span><span class="op">(</span><span class="st">"Zootoca vivipara"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid_</span><span class="op">(</span><span class="st">"Poa annua"</span>, rows<span class="op">=</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid_</span><span class="op">(</span><span class="st">"Poa annua"</span>, rows<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">get_nbnid_</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"asdfadfasd"</span>,<span class="st">"Pinus contorta"</span><span class="op">)</span>, rows<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># use curl options</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu">get_nbnid</span><span class="op">(</span><span class="st">"Quercus douglasii"</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Scott Chamberlain, Eduard Szoecs, Zachary Foster, Zebulun Arendsee, rOpenSci.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

      </footer></div>

  


  

  </body></html>

